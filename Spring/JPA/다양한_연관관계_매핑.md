## 연관관계 매핑 시 고려사항 

### 다중성
테이블의 구조는 바뀌지 않는다는 점이 가장 중요!
- 다대일 : ```@ManyToOne``` (제일 많이 사용)
- 일대다 : ```@OneToMany``` 
    - 보통 외래키가 있는 테이블이 연관관계의 주인이지만 일대다 경우는 일(1)이 연관관계의 주인이고, 다(N)쪽에서 외래키 관리
    - 반대편 테이블의 외래키를 관리하는 특이 구조이므로 Update 쿼리가 한번 더 실행됨
    - 일대다 양방향은 읽기전용(insertable, updatable)을 통해 양방향처럼 억지로 사용 가능
- 일대일 : ```@OneToOne```
    - 두 테이블 중 외래키 관리할 테이블 선택 가능
    - 주 테이블에 외래키
        - 값이 없다면 외래키에 NULL값 허용
    - 대상 테이블에 외래키
        - 일대다 관계로 변경해도 테이블 구조가 유지됨
        - 지연로딩으로 설정해도 항상 즉시 로딩
- 다대다 : ```@ManyToMany``` 
    - RDB는 정규화된 테이블 2개로 다대다 관계 표현이 불가   
    - 하지만 객체는 다대다 관계가 가능
    - 실무에서 안씀. 알고만 있자
    - 한계 극복 => 연결용 엔티티와 연결용 테이블 추가

### 단방향, 양방향
- 테이블
    - 외래키 하나로 양 쪽의 조인 가능
- 객체
    - 참조할 필드가 있는 쪽으로만 참조 가능

### 연관관계의 주인
외래키 하나로 두 테이블이 연관관계를 맺는다. 그러나 양방향의 경우 참조가 양 쪽으로 발생하는데 이 때 외래키를 관리할 테이블을 정해야 한다.   
이 외래키를 관리할 테이블이 연관관계의 주인이 된다.
> 주인이 아니면 외래키에 영향을 줄 수 없고 단순 조회만 가능
